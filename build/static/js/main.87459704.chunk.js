(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(16),u=n.n(o),a=(n(7),n(6)),i=n(3),s=n(0),d=function(e){var t=e.newName,n=e.setNewName,c=e.newNumber,r=e.setNewNumber,o=e.handleSubmit;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:o,children:[Object(s.jsxs)("div",{children:["name:"," ",Object(s.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number:"," ",Object(s.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})})},j=n(4),b=n.n(j),f="/api/persons",l=function(){return b.a.get(f).then((function(e){return e.data}))},h=function(e){return b.a.post(f,e).then((function(e){return e.data}))},m=function(e){return b.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},O=function(e,t){return b.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},x=function(e){var t=e.filteredNames,n=e.setPersons,c=e.persons;return Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsxs)("div",{children:[e.name," ",e.number," ",Object(s.jsx)("button",{onClick:function(){return function(e){window.confirm("Are you sure you want to delete ".concat(e.name," from your phonebook?\n\t\t"))&&m(e.id).then((function(){n(c.filter((function(t){return t.id!==e.id})))}))}(e)},children:"delete"})]},e.id)}))})},p=function(e){var t=e.keyword,n=e.setKeyword;return Object(s.jsxs)("div",{children:["filter show with:"," ",Object(s.jsx)("input",{value:t,onChange:function(e){return function(e){n(e.target.value.toLowerCase())}(e)}})]})},v=function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("h2",{className:e.className,children:[" ",e.message]})})},w=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),j=u[0],b=u[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),w=m[0],N=m[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),k=y[0],S=y[1],C=Object(c.useState)(""),P=Object(i.a)(C,2),T=P[0],F=P[1],L=Object(c.useState)(!1),A=Object(i.a)(L,2),B=A[0],D=A[1];Object(c.useEffect)((function(){l().then((function(e){return r(e)}))}),[]);var E=n.filter((function(e){return e.name.toLowerCase().includes(k)}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),T&&!B?Object(s.jsx)(v,{message:T,className:"success"}):null,T&&B?Object(s.jsx)(v,{message:T,className:"error"}):null,Object(s.jsx)(p,{keyword:k,setKeyword:S}),Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(d,{newName:j,setNewName:b,newNumber:w,setNewNumber:N,handleSubmit:function(e){e.preventDefault();var t={name:j,number:w},c=n.find((function(e){return e.name===j}));c?window.confirm("".concat(c.name," is already in your phonebook. Would you like to update it's number ?"))&&O(c.id,Object(a.a)(Object(a.a)({},c),{},{number:w})).then((function(e){r(n.map((function(t){return t.name===j?e:t})))})).catch((function(e){console.log({err:e}),F(e.response.data.error),D(!B),setTimeout((function(){D(B),F("")}),2500)})):h(t).then((function(e){r(n.concat(e)),b(""),N(""),F("Added ".concat(j)),setTimeout((function(){F("")}),2500)})).catch((function(e){D(!B),F(e.response.data.error),setTimeout((function(){D(B),F("")}),2e3)}))}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(x,{filteredNames:E,persons:n,setPersons:r})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,u=t.getTTFB;n(e),c(e),r(e),o(e),u(e)}))};u.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root")),N()},7:function(e,t,n){}},[[40,1,2]]]);
//# sourceMappingURL=main.87459704.chunk.js.map