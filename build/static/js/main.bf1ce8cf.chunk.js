(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),u=n(16),o=n.n(u),a=(n(7),n(6)),i=n(3),s=n(0),d=function(e){var t=e.newName,n=e.setNewName,c=e.newNumber,r=e.setNewNumber,u=e.handleSubmit;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:u,children:[Object(s.jsxs)("div",{children:["name:"," ",Object(s.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number:"," ",Object(s.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})})},b=n(4),j=n.n(b),f="/api/persons",l=function(){return j.a.get(f).then((function(e){return e.data}))},h=function(e){return j.a.post(f,e).then((function(e){return e.data}))},m=function(e){return j.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},O=function(e,t){return j.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},x=function(e){var t=e.filteredNames,n=e.setPersons,c=e.persons;return Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsxs)("div",{children:[e.name," ",e.number," ",Object(s.jsx)("button",{onClick:function(){return function(e){window.confirm("Are you sure you want to delete ".concat(e.name," from your phonebook?\n\t\t"))&&m(e.id).then((function(){n(c.filter((function(t){return t.id!==e.id})))}))}(e)},children:"delete"})]},e.id)}))})},v=function(e){var t=e.keyword,n=e.setKeyword;return Object(s.jsxs)("div",{children:["filter show with:"," ",Object(s.jsx)("input",{value:t,onChange:function(e){return function(e){n(e.target.value.toLowerCase())}(e)}})]})},w=function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("h2",{className:e.className,children:[" ",e.message]})})},p=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],u=Object(c.useState)(""),o=Object(i.a)(u,2),b=o[0],j=o[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),p=m[0],N=m[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),k=y[0],S=y[1],C=Object(c.useState)(""),P=Object(i.a)(C,2),F=P[0],L=P[1],T=Object(c.useState)(!1),A=Object(i.a)(T,2),B=A[0],D=A[1];Object(c.useEffect)((function(){l().then((function(e){return r(e)}))}),[]);var E=n.filter((function(e){return e.name.toLowerCase().includes(k)}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),F&&!B?Object(s.jsx)(w,{message:F,className:"success"}):null,F&&B?Object(s.jsx)(w,{message:F,className:"error"}):null,Object(s.jsx)(v,{keyword:k,setKeyword:S}),Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(d,{newName:b,setNewName:j,newNumber:p,setNewNumber:N,handleSubmit:function(e){e.preventDefault();var t={name:b,number:p},c=n.find((function(e){return e.name===b}));c?window.confirm("".concat(c.name," is already in your phonebook. Would you like to update it's number ?"))&&O(c.id,Object(a.a)(Object(a.a)({},c),{},{number:p})).then((function(e){r(n.map((function(t){return t.name===b?e:t})))})).catch((function(e){L("".concat(b," has already been deleted from database.")),D(!B),setTimeout((function(){L(""),D(!B)}),2500)})):h(t).then((function(e){r(n.concat(e)),j(""),N(""),L("Added ".concat(b)),setTimeout((function(){L("")}),2500)}))}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(x,{filteredNames:E,persons:n,setPersons:r})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,u=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),u(e),o(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root")),N()},7:function(e,t,n){}},[[40,1,2]]]);
//# sourceMappingURL=main.bf1ce8cf.chunk.js.map